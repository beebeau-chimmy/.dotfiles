"use strict";
"use babel";

const tableTemplate = `
|Title|Status|
|---|---|
`;
const listCharsReg = /[-ãƒ¼*+]/;
function convert() {
  const editor = inkdrop.getActiveEditor();
  if (editor) {
    const cm = editor.cm;
    const selectedTextList = cm.getSelections("\n");
    console.debug(selectedTextList);
    const convertedTextList = selectedTextList.map(selectedText => {
      const convertedText = selectedText.split("\n").map(line => {
        return `|${line.replace(listCharsReg, "").trim()}||`;
      }).join("\n");
      return `${tableTemplate}${convertedText}\n`;
    });
    cm.replaceSelections(convertedTextList);
  } else {
    console.info("no active editor");
  }
}
module.exports = {
  activate() {
    this.subscription = inkdrop.commands.add(document.body, {
      "convert-list-to-table": () => convert()
    });
  },
  deactivate() {
    this.subscription.dispose();
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0YWJsZVRlbXBsYXRlIiwibGlzdENoYXJzUmVnIiwiY29udmVydCIsImVkaXRvciIsImlua2Ryb3AiLCJnZXRBY3RpdmVFZGl0b3IiLCJjbSIsInNlbGVjdGVkVGV4dExpc3QiLCJnZXRTZWxlY3Rpb25zIiwiY29uc29sZSIsImRlYnVnIiwiY29udmVydGVkVGV4dExpc3QiLCJtYXAiLCJzZWxlY3RlZFRleHQiLCJjb252ZXJ0ZWRUZXh0Iiwic3BsaXQiLCJsaW5lIiwicmVwbGFjZSIsInRyaW0iLCJqb2luIiwicmVwbGFjZVNlbGVjdGlvbnMiLCJpbmZvIiwibW9kdWxlIiwiZXhwb3J0cyIsImFjdGl2YXRlIiwic3Vic2NyaXB0aW9uIiwiY29tbWFuZHMiLCJhZGQiLCJkb2N1bWVudCIsImJvZHkiLCJjb252ZXJ0LWxpc3QtdG8tdGFibGUiLCJkZWFjdGl2YXRlIiwiZGlzcG9zZSJdLCJzb3VyY2VzIjpbImNvbnZlcnQtbGlzdC10by10YWJsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBiYWJlbFwiO1xuXG5jb25zdCB0YWJsZVRlbXBsYXRlID0gYFxufFRpdGxlfFN0YXR1c3xcbnwtLS18LS0tfFxuYDtcbmNvbnN0IGxpc3RDaGFyc1JlZyA9IC9bLeODvCorXS87XG5cbmZ1bmN0aW9uIGNvbnZlcnQoKSB7XG4gIGNvbnN0IGVkaXRvciA9IGlua2Ryb3AuZ2V0QWN0aXZlRWRpdG9yKCk7XG4gIGlmIChlZGl0b3IpIHtcbiAgICBjb25zdCBjbSA9IGVkaXRvci5jbTtcbiAgICBjb25zdCBzZWxlY3RlZFRleHRMaXN0ID0gY20uZ2V0U2VsZWN0aW9ucyhcIlxcblwiKTtcbiAgICBjb25zb2xlLmRlYnVnKHNlbGVjdGVkVGV4dExpc3QpO1xuICAgIGNvbnN0IGNvbnZlcnRlZFRleHRMaXN0ID0gc2VsZWN0ZWRUZXh0TGlzdC5tYXAoKHNlbGVjdGVkVGV4dCkgPT4ge1xuICAgICAgY29uc3QgY29udmVydGVkVGV4dCA9IHNlbGVjdGVkVGV4dFxuICAgICAgICAuc3BsaXQoXCJcXG5cIilcbiAgICAgICAgLm1hcCgobGluZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBgfCR7bGluZS5yZXBsYWNlKGxpc3RDaGFyc1JlZywgXCJcIikudHJpbSgpfXx8YDtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oXCJcXG5cIik7XG4gICAgICByZXR1cm4gYCR7dGFibGVUZW1wbGF0ZX0ke2NvbnZlcnRlZFRleHR9XFxuYDtcbiAgICB9KTtcbiAgICBjbS5yZXBsYWNlU2VsZWN0aW9ucyhjb252ZXJ0ZWRUZXh0TGlzdCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5pbmZvKFwibm8gYWN0aXZlIGVkaXRvclwiKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYWN0aXZhdGUoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb24gPSBpbmtkcm9wLmNvbW1hbmRzLmFkZChkb2N1bWVudC5ib2R5LCB7XG4gICAgICBcImNvbnZlcnQtbGlzdC10by10YWJsZVwiOiAoKSA9PiBjb252ZXJ0KCksXG4gICAgfSk7XG4gIH0sXG5cbiAgZGVhY3RpdmF0ZSgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gIH0sXG59O1xuIl0sIm1hcHBpbmdzIjoiO0FBQUEsV0FBVzs7QUFFWCxNQUFNQSxhQUFhLEdBQUk7QUFDdkI7QUFDQTtBQUNBLENBQUM7QUFDRCxNQUFNQyxZQUFZLEdBQUcsUUFBUTtBQUU3QixTQUFTQyxPQUFPQSxDQUFBLEVBQUc7RUFDakIsTUFBTUMsTUFBTSxHQUFHQyxPQUFPLENBQUNDLGVBQWUsQ0FBQyxDQUFDO0VBQ3hDLElBQUlGLE1BQU0sRUFBRTtJQUNWLE1BQU1HLEVBQUUsR0FBR0gsTUFBTSxDQUFDRyxFQUFFO0lBQ3BCLE1BQU1DLGdCQUFnQixHQUFHRCxFQUFFLENBQUNFLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDL0NDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDSCxnQkFBZ0IsQ0FBQztJQUMvQixNQUFNSSxpQkFBaUIsR0FBR0osZ0JBQWdCLENBQUNLLEdBQUcsQ0FBRUMsWUFBWSxJQUFLO01BQy9ELE1BQU1DLGFBQWEsR0FBR0QsWUFBWSxDQUMvQkUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUNYSCxHQUFHLENBQUVJLElBQUksSUFBSztRQUNiLE9BQVEsSUFBR0EsSUFBSSxDQUFDQyxPQUFPLENBQUNoQixZQUFZLEVBQUUsRUFBRSxDQUFDLENBQUNpQixJQUFJLENBQUMsQ0FBRSxJQUFHO01BQ3RELENBQUMsQ0FBQyxDQUNEQyxJQUFJLENBQUMsSUFBSSxDQUFDO01BQ2IsT0FBUSxHQUFFbkIsYUFBYyxHQUFFYyxhQUFjLElBQUc7SUFDN0MsQ0FBQyxDQUFDO0lBQ0ZSLEVBQUUsQ0FBQ2MsaUJBQWlCLENBQUNULGlCQUFpQixDQUFDO0VBQ3pDLENBQUMsTUFBTTtJQUNMRixPQUFPLENBQUNZLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztFQUNsQztBQUNGO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2ZDLFFBQVFBLENBQUEsRUFBRztJQUNULElBQUksQ0FBQ0MsWUFBWSxHQUFHckIsT0FBTyxDQUFDc0IsUUFBUSxDQUFDQyxHQUFHLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxFQUFFO01BQ3RELHVCQUF1QixFQUFFQyxDQUFBLEtBQU01QixPQUFPLENBQUM7SUFDekMsQ0FBQyxDQUFDO0VBQ0osQ0FBQztFQUVENkIsVUFBVUEsQ0FBQSxFQUFHO0lBQ1gsSUFBSSxDQUFDTixZQUFZLENBQUNPLE9BQU8sQ0FBQyxDQUFDO0VBQzdCO0FBQ0YsQ0FBQyJ9